# data_acquisition > data_pull.r

From **yahoo finance** (library - quantmod) We pulled daily closing adjusted prices (X_price) and volume of shares traded (X_volume) for Shell (LSE: SHEL) and British Petroleum, BP (LSE: BP) going as far back as 2000. 

- **N/A Handling**: Fill missing values with the mean of the previous 7 days

- **Data Parity**:  Transformed daily _closing prices_ to logarithmic scale, to compare "apples to apples"

- Daily returns 

        Correlation of returns: +82.2 %

Plot the indexes 


# data_analysis > tsa_checks.r

## Stationarity check:
Augmented Dickey–Fuller (ADF) to logarithmnic prices and returns.

For both SHEL and BP log-prices, the ADF p-values is bigger than the conf interval (0.05), so we cannot reject the null of a unit root (ie, the series is a random walk, what we want for a financial series)

For log-returns, ADF p-values are below 0.05, indicating stationarity (I(0)).

So, non-stational prices and stational returns require then a cointegration testing.

## Cointegration 

Pairst trading is all about  **assuming our variables move together over time**. To check this, we perform an Engle-Granger, that is both easy and powerful for pairs of vairables. If they  indeed move together, the spread (residual of the model) should move around a long-term average

If Exxon and Chevron closing prices move together over time , we should find the following from the model:

- **α (intercept)** → the base difference between the stocks

- **β (slope)** : equilibrium hedge ratio: **How much does SHEL move when BP moves**

- R² (fit quality) – not used for cointegration

- **Residuals** → the spread (actual price - predicted price)

We find evidence of cointegration between SHEL and BP: the ADF test on the residuals yields p ≈ 0.058, which we will consider significant for the sake of this analysis. We proceed with a pairs trading experiment, noting that the long-run relationship is not ideal.”